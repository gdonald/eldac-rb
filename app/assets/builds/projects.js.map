{
  "version": 3,
  "sources": ["../../javascript/projects.js"],
  "sourcesContent": ["\nwindow.askDeleteSurvey = function(id) {\n  const project_id = $('#form_project_id').val();\n  const url = '/projects/' + project_id + '/surveys/' + id + '/ask_delete';\n  $.ajax({\n    method: 'get',\n    url\n  });\n};\n\nwindow.askDeleteForm = function(id) {\n  const project_id = $('#form_project_id').val();\n  const url = '/projects/' + project_id + '/forms/' + id + '/ask_delete';\n  $.ajax({\n    method: 'get',\n    url\n  });\n};\n\nwindow.askDeleteFolder = function(id) {\n  $.ajax({\n    method: 'get',\n    url: '/folders/' + id + '/ask_delete'\n  });\n};\n\nwindow.editFolder = function(id) {\n  $.ajax({\n    method: 'get',\n    url: '/folders/' + id + '/edit'\n  });\n};\n\nwindow.toggleFolderCollapse = function(id) {\n  const visible = $('span#fc-' + id).is(':visible');\n  if (visible) {\n    $('tr#header-' + id).show();\n    $('span#fc-' + id).hide();\n    $('span#fo-' + id).show();\n  } else {\n    $('tr#header-' + id).hide();\n    $('span#fc-' + id).show();\n    $('span#fo-' + id).hide();\n  }\n  $('tr[id^=f' + id + ']').each(function(k, v) {\n    if (visible) {\n      $(v).show();\n    } else {\n      $(v).hide();\n    }\n  });\n  $.ajax({\n    method: 'post',\n    url: '/folders/toggle_collapse',\n    data: { id\n  },\n    success(result) {}\n  });\n};\n\nwindow.rebindControls = function() {\n  $('input:checkbox[id^=\"checkall\"]').prop('checked', projectsAllChecked());\n  $('input:checkbox[id^=\"p_\"]').each(function() {\n    $($(this)).click(function() {\n      toggleProjectFolder($(this).attr('id').split('_')[1]);\n    });\n  });\n  $('input:checkbox[id^=\"checkall\"]').click(function() {\n    checkAllProjects();\n  });\n  $('input:checkbox[id^=\"assigned\"]').click(function() {\n    setAssigned();\n  });\n};\n\nwindow.setAssigned = function() {\n  const assigned = $('input:checkbox[id^=\"assigned\"]').prop('checked');\n  $.ajax({\n    method: 'post',\n    url: '/projects/assigned_folder',\n    data: { assigned: assigned ? '1' : '0'\n  },\n    success(result) {\n      $('#projects_list').html(result);\n      rebindControls();\n    }\n  });\n};\n\nwindow.checkAllProjects = function() {\n  const folder_id = $('select#folder_id').val();\n  if (folder_id === 0) {\n    return;\n  }\n  const checkall = $('input:checkbox[id^=\"checkall\"]').prop('checked');\n  let id = undefined;\n  const project_ids = [];\n  $('input:checkbox[id^=\"p_\"]').each(function() {\n    id = $(this).attr('id').split('_')[1];\n    project_ids.push(id);\n    $(this).prop('checked', checkall);\n    $('div#s_' + id).show();\n    $('div#s_' + id).fadeOut(1000);\n  });\n  if (project_ids.length === 0) {\n    return;\n  }\n  $.ajax({\n    method: 'post',\n    url: '/projects/checkall_folder',\n    data: {\n      folder_id,\n      project_ids,\n      checkall: checkall ? '1' : '0'\n    },\n    success(result) {}\n  });\n};\n\nwindow.toggleProjectFolder = function(project_id) {\n  const folder_id = parseInt( $('select#folder_id').val() );\n  if (folder_id === 0) {\n    return;\n  }\n  $('div#s_' + project_id).show();\n  $('div#s_' + project_id).fadeOut(1000);\n  $.ajax({\n    method: 'post',\n    url: '/projects/toggle_folder',\n    data: {\n      folder_id,\n      project_ids: [ project_id ]\n    },\n    success(result) {\n      $('input:checkbox[id^=\"checkall\"]').prop('checked', projectsAllChecked());\n    }\n  });\n};\n\nwindow.getProjects = function() {\n  const folder_id = parseInt( $('select#folder_id').val() );\n  $('#projects_list').html('');\n  $.ajax({\n    method: 'post',\n    url: '/folders/organize',\n    data: { folder_id\n  },\n    success(result) {\n      $('#projects_list').html(result);\n      rebindControls();\n    }\n  });\n};\n\nwindow.projectsAllChecked = function() {\n  const cbs = $('input:checkbox[id^=\"p_\"]');\n  if (cbs.length === 0) {\n    return false;\n  }\n  let r = true;\n  $('input:checkbox[id^=\"p_\"]').each(function() {\n    if (!$(this).prop('checked')) {\n      r = false;\n    }\n  });\n  return r;\n};\n\nwindow.saveFoldersSort = function() {\n  const order = $('#sort_folders tbody').sortable('serialize');\n  $.ajax({\n    method: 'post',\n    url: '/folders/save_sort',\n    data: { order\n  },\n    success(result) {}\n  });\n};\n\nwindow.saveFormsSort = function(project_id) {\n  const order = $('#sort_forms tbody').sortable('serialize');\n  $.ajax({\n    method: 'post',\n    url: '/projects/' + project_id + '/forms/save_sort',\n    data: { order\n  },\n    success(result) {}\n  });\n};\n\n$(function() {\n\n  $('a#tab_project').click(function() {\n    $('div#forms').addClass('hidden');\n    $('div#surveys').addClass('hidden');\n    $('div#project').removeClass('hidden');\n    $('li#li_forms').removeClass('active');\n    $('li#li_surveys').removeClass('active');\n    return $('li#li_project').addClass('active');\n  });\n\n  $('a#tab_forms').click(function() {\n    $('div#surveys').addClass('hidden');\n    $('div#project').addClass('hidden');\n    $('div#forms').removeClass('hidden');\n    $('li#li_forms').addClass('active');\n    $('li#li_surveys').removeClass('active');\n    return $('li#li_project').removeClass('active');\n  });\n\n  $('a#tab_surveys').click(function() {\n    $('div#forms').addClass('hidden');    \n    $('div#project').addClass('hidden');\n    $('div#surveys').removeClass('hidden');\n    $('li#li_forms').removeClass('active');\n    $('li#li_surveys').addClass('active');\n    return $('li#li_project').removeClass('active');\n  });\n\n  $('a#tab_project').click();\n\n  $('#sort_folders tbody').sortable({\n    cursor: 'move',\n    opacity: 0.7,\n    update(e, ui) {\n      saveFoldersSort();\n    }\n  });\n\n  $('#sort_forms tbody').sortable({\n    cursor: 'move',\n    opacity: 0.7,\n    update(e, ui) {\n      saveFormsSort($('#form_project_id').val());\n    }\n  });\n\n  $('input:checkbox[id^=\"assigned\"]').click(function() {\n    getProjects();\n  });\n\n  $('select#folder_id').change(function() {\n    getProjects();\n  });\n\n  $('a[id^=\"ad_folder_\"]').each(function() {\n    return $($(this)).click(function() {\n      askDeleteFolder($(this).attr('id').split('_')[2]);\n    });\n  });\n\n  $('a[id^=\"folder_\"]').each(function() {\n    return $($(this)).click(function() {\n      editFolder($(this).attr('id').split('_')[1]);\n    });\n  });\n\n  $('a[id^=\"ad_form_\"]').each(function() {\n    return $($(this)).click(function() {\n      askDeleteForm($(this).attr('id').split('_')[2]);\n    });\n  });\n\n  $('a[id^=\"ad_survey_\"]').each(function() {\n    return $($(this)).click(function() {\n      askDeleteSurvey($(this).attr('id').split('_')[2]);\n    });\n  });\n\n});\n"],
  "mappings": "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",
  "names": []
}
